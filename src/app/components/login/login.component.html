<div class="auth-wrapper">
  <div class="auth-content">
    <div class="auth-bg">
      <span class="r"></span>
      <span class="r s"></span>
      <span class="r s"></span>
      <span class="r"></span>
    </div>
    <div
      class="row my-5 card rounded-3 p-3 flex-row w-100 m-auto justify-content-center"
    >
    <p class="text-danger text-center">{{warningMessage}}</p>
      <i class="fa fa-unlock my-4"></i>
      <h3 class="text-center my-2">Login</h3>
      <div class="col-lg-6 card-body mt-3">
        <form [formGroup]="loginForm" (ngSubmit)="loginUser()">
          <!-- Email -->
          <div class="form-floating mb-4">
            <input
              id="email"
              formControlName="email"
              class="form-control"
              placeholder="Email"
            />
            <label for="email"><i class="fas fa-envelope"></i> Email</label>
            <div
              class="text-danger"
              *ngIf="
                loginForm.get('email')?.value !== 'admin' &&
                loginForm.get('email')?.invalid &&
                loginForm.get('email')?.touched
              "
            >
              <small *ngIf="loginForm.get('email')?.hasError('required')"
                >Email is required*</small
              >
              <small *ngIf="loginForm.get('email')?.hasError('email')"
                >Invalid email address*</small
              >
            </div>
          </div>

          <div class="form-floating mb-4 password-container">
            <input
              [type]="passwordFieldType"
              id="password"
              formControlName="password"
              class="form-control"
              placeholder="Password"
            />
            <label for="password"><i class="fas fa-lock"></i> Password</label>
            <span (click)="toggleVisibility()">
              <i
                class="toggle-password fas"
                [ngClass]="
                  passwordFieldType === 'password' ? 'fa-eye-slash' : 'fa-eye'
                "
              ></i>
            </span>
            <div
              class="text-danger"
              *ngIf="
                loginForm.get('password')?.invalid &&
                loginForm.get('password')?.touched
              "
            >
              <small *ngIf="loginForm.get('password')?.hasError('required')"
                >Password is required*</small
              >
              <small *ngIf="loginForm.get('password')?.hasError('minlength')"
                >Invalid Password*</small
              >
            </div>
          </div>

          <!-- Error Message -->
          <div *ngIf="errorMessage" class="alert alert-danger text-center">
            {{ errorMessage }}
          </div>

          <!-- Buttons -->
          <div class="text-center mt-3">
            <app-button
            label="Login"
              appDoubleSize="5"
              type="submit"
              [disabled]="
                loginForm.invalid && loginForm.get('email')?.value !== 'admin'
              "
            ></app-button>
          </div>
          <div class="text-center mt-3">
            <p class="text-muted">
              Donâ€™t have an account?
              <a routerLink="/signup" class="text-decoration-none">Sign Up</a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
